  /channels:
    post:
      tags:
        - channels
      summary: Create a channel
      description: |
        Create a new channel.
        ##### Permissions
        If creating a public channel, `create_public_channel` permission is required. If creating a private channel, `create_private_channel` permission is required.
      parameters:
        - in: body
          name: body
          description: Channel object to be created
          required: true
          schema:
            type: object
            required:
              - name
              - display_name
              - type
              - team_id
            properties:
              team_id:
                type: string
                description: The team ID of the team to create the channel on
              name:
                type: string
                description: The unique handle for the channel, will be present in the channel URL
              display_name:
                type: string
                description: The non-unique UI name for the channel
              purpose:
                type: string
                description: A short description of the purpose of the channel
              header:
                type: string
                description: Markdown-formatted text to display in the header of the channel
              type:
                type: string
                description: "'O' for a public channel, 'P' for a private channel"
      responses:
        '201':
          description: Channel creation successful
          schema:
            $ref: '#/definitions/Channel'
        '400':
          $ref: '#/responses/BadRequest'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'

  /channels/direct:
    post:
      tags:
        - channels
      summary: Create a direct message channel
      description: |
        Create a new direct message channel between two users.
        ##### Permissions
        Must be one of the two users and have `create_direct_channel` permission. Having the `manage_system` permission voids the previous requirements.
      parameters:
        - in: body
          name: body
          description: The two user ids to be in the direct message
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '201':
          description: Direct channel creation successful
          schema:
            $ref: '#/definitions/Channel'
        '400':
          $ref: '#/responses/BadRequest'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
  '/channels/{channel_id}':
    get:
      tags:
        - channels
      summary: Get a channel
      description: |
        Get channel from the provided channel id string.
        ##### Permissions
        `read_channel` permission for the channel.
      parameters:
        - name: channel_id
          in: path
          description: Channel GUID
          required: true
          type: string
      responses:
        '200':
          description: Channel retrieval successful
          schema:
            $ref: '#/definitions/Channel' 
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '404':
          $ref: '#/responses/NotFound'

  '/teams/{team_id}/channels':
    get:
      tags:
        - teams
      summary: Get team public channels
      description: |
        Get a page team public channel list based on query string parameters - team id, page and per page.
        ##### Permissions
        Must be authenticated and have the `list_team_channels` permission.
      parameters:
        - name: team_id
          in: path
          description: Team GUID
          required: true
          type: string
        - name: page
          in: query
          description: The page to select.
          default: "0"
          type: string
        - name: per_page
          in: query
          description: The number of public channels per page.
          default: "60"
          type: string
      responses:
        '201':
          description: Team public channels retrieval successful
          schema:
            type: array
            items:
              $ref: '#/definitions/ChannelList'
        '400':
          $ref: '#/responses/BadRequest'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '404':
          $ref: '#/responses/NotFound'

  '/teams/{team_id}/channels/{channel_name}':
    get:
      tags:
        - channels
      summary: Get a channel by name.
      description: |
        Gets channel from the provided team id and channel name strings.
        ##### Permissions
        `read_channel` permission for the channel.
      parameters:
        - name: team_id
          in: path
          description: Team GUID
          required: true
          type: string
        - name: channel_name
          in: path
          description: Channel Name
          required: true
          type: string
      responses:
        '200':
          description: Channel retrieval successful
          schema:
            $ref: '#/definitions/Channel' 
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '404':
          $ref: '#/responses/NotFound'

  '/teams/name/{team_name}/channels/{channel_name}':
    get:
      tags:
        - channels
      summary: Get a channel by name and team name.
      description: |
        Gets a channel from the provided team name and channel name strings.
        ##### Permissions
        `read_channel` permission for the channel.
      parameters:
        - name: team_name
          in: path
          description: Team Name
          required: true
          type: string
        - name: channel_name
          in: path
          description: Channel Name
          required: true
          type: string
      responses:
        '200':
          description: Channel retrieval successful
          schema:
            $ref: '#/definitions/Channel' 
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '404':
          $ref: '#/responses/NotFound'

  '/channels/{channel_id}/members':
    get:
      tags:
        - channels
      summary: Get channel members
      description: |
        Get a page of members for a channel.
        ##### Permissions
        `read_channel` permission for the channel.
      parameters:
        - name: channel_id
          in: path
          description: Channel GUID
          required: true
          type: string
      responses:
        '200':
          description: Channel members retrieval successful
          schema:
            type: array
            items:
              $ref: '#/definitions/ChannelMember'
        '400':
          $ref: '#/responses/BadRequest'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'

  '/channels/{channel_id}/members/{user_id}':
    get:
      tags:
        - channels
      summary: Get channel member
      description: |
        Get a channel member.
        ##### Permissions
        `read_channel` permission for the channel.
      parameters:
        - name: channel_id
          in: path
          description: Channel GUID
          required: true
          type: string
        - name: user_id
          in: path
          description: User GUID
          required: true
          type: string
      responses:
        '200':
          description: Channel member retrieval successful
          schema:
            $ref: '#/definitions/ChannelMember'
        '400':
          $ref: '#/responses/BadRequest'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'

    delete:
      tags:
        - channels
      summary: Remove user from channel
      description: |
        Delete a channel member, effectively removing them from a channel.
        ##### Permissions
        `manage_public_channel_members` permission if the channel is public.
        `manage_private_channel_members` permission if the channel is private.
      parameters:
        - name: channel_id
          in: path
          description: Channel GUID
          required: true
          type: string
        - name: user_id
          in: path
          description: User GUID
          required: true
          type: string
      responses:
        '200':
          description: Channel member deletion successful
          schema:
            $ref: '#/definitions/StatusOK'
        '400':
          $ref: '#/responses/BadRequest'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'

  '/channels/{channel_id}/members/{user_id}/roles':
    put:
      tags:
        - channels
      summary: Update channel roles
      description: |
        Update a user's roles for a channel.
        ##### Permissions
        `manage_public_channel_members` permission if the channel is public.
        `manage_private_channel_members` permission if the channel is private.
      parameters:
        - name: channel_id
          in: path
          description: Channel GUID
          required: true
          type: string
        - name: user_id
          in: path
          description: User GUID
          required: true
          type: string
        - in: body
          name: roles
          description: Space-delimited channel roles to assign to the user
          required: true
          schema:
            type: object
            required:
              - roles
            properties:
              roles:
                type: string
      responses:
        '200':
          description: Channel roles update successful
          schema:
            $ref: '#/definitions/StatusOK'
        '400':
          $ref: '#/responses/BadRequest'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'

  '/channels/members/{user_id}/view':
    post:
      tags:
        - channels
      summary: View channel
      description: |
        Perform all the actions involved in viewing a channel. This includes marking channels as read, clearing push notifications, and updating the active channel.
        ##### Permissions
        Must be logged in as user or have `edit_other_users` permission.
      parameters:
        - in: path
          name: user_id
          description: User ID to perform the view action for
          required: true
          type: string
        - in: body
          name: body
          description: Paremeters affecting how and which channels to view
          required: true
          schema:
            type: object
            required:
              - channel_id
            properties:
              channel_id:
                type: string
                description: The channel ID that is being viewed. Use a blank string to indicate that all channels have lost focus.
              prev_channel_id:
                type: string
                description: The channel ID of the previous channel, used when switching channels. Providing this ID will cause push notifications to clear on the channel being switched to.

      responses:
        '200':
          description: Channel view successful
          schema:
            $ref: '#/definitions/StatusOK'
        '400':
          $ref: '#/responses/BadRequest'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'

  '/users/{user_id}/teams/{team_id}/members':
    get:
      tags:
        - channels
      summary: Get channel members for user
      description: |
        Get all channel members on a team for a user.
        ##### Permissions
        Logged in as user and `view_team` permission for the channel. Having `manage_system` permission voids the previous requirements.
      parameters:
        - name: user_id
          in: path
          description: User GUID
          required: true
          type: string
        - name: team_id
          in: path
          description: Team GUID
          required: true
          type: string
      responses:
        '200':
          description: Channel members retrieval successful
          schema:
            type: array
            items:
              $ref: '#/definitions/ChannelMember'
        '400':
          $ref: '#/responses/BadRequest'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'

